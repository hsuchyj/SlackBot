{"version":3,"sources":["../src/pages/VSTSAuthFlowStartPopUp.ts"],"names":[],"mappings":";;;;;;;;;;AACA,mEAAgE;AAEhE;IAEW,MAAM,CAAC,iBAAiB;QAC3B,OAAO,UAAgB,GAAQ,EAAE,GAAQ,EAAE,IAAS;;gBAChD,IAAI;oBACA,IAAI,QAAQ,GAAG;;;;;;;;;;;;;qDAauB,uCAAkB,CAAC,uBAAuB,EAAG;;;;4BAIvE,CAAC;oBAEb,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACtB;gBAAC,OAAO,CAAC,EAAE;oBACR,GAAG,CAAC,IAAI,CAAC;;;;;;;;4BAQG,CAAC,CAAC;iBACjB;YACL,CAAC;SAAA,CAAC;IACN,CAAC;CACJ;AAtCD,wDAsCC","file":"VSTSAuthFlowStartPopUp.js","sourcesContent":["import * as express from \"express\";\nimport { VSTSTokenOAuth2API } from \"../apis/VSTSTokenOAuth2API\";\n\nexport class VSTSAuthFlowStartPopUp {\n\n    public static getRequestHandler(): express.RequestHandler {\n        return async function (req: any, res: any, next: any): Promise<void> {\n            try {\n                let htmlPage = `<!DOCTYPE html>\n                    <html>\n                    <head>\n                        <title>Bot Info</title>\n                        <meta charset=\"utf-8\" />\n                        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n                        <script src='https://code.jquery.com/jquery-1.11.3.min.js'></script>\n                    </head>\n\n                    <body>\n                        <p>Auth Flow Start</p>\n                        <script>\n                            $(document).ready(function () { \n                                window.location = \"${ VSTSTokenOAuth2API.getUserAuthorizationURL() }\";\n                            });\n                        </script>\n                    </body>\n                    </html>`;\n\n                res.send(htmlPage);\n            } catch (e) {\n                res.send(`<html>\n                    <body>\n                    <p>\n                        Sorry. There was an error.\n                    </p>\n                    <br>\n                    <img src=\"/tab/error_generic.png\" alt=\"default image\" />\n                    </body>\n                    </html>`);\n            }\n        };\n    }\n}\n"],"sourceRoot":"/app/build"}